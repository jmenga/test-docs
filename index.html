<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Cloud Deployment Framework</title>
    <meta name="generator" content="Hugo 0.18.1" />

    
    <meta name="description" content="Cloud Deployment Framework">
    
    <link rel="canonical" href="https://example.org/">
    
    <meta name="author" content="Justin Menga">
    

    <meta property="og:url" content="https://example.org/">
    <meta property="og:title" content="Cloud Deployment Framework">
    <meta property="og:image" content="https://example.org/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Cloud Deployment Framework">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://example.org/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://example.org/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://example.org/fonts/icon.eot');
        src: url('https://example.org/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://example.org/fonts/icon.woff')
               format('woff'),
             url('https://example.org/fonts/icon.ttf')
               format('truetype'),
             url('https://example.org/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://example.org/stylesheets/application.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://example.org/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://example.org/javascripts/modernizr.js"></script>

    
    <link href="https://example.org/index.xml" rel="alternate" type="application/rss+xml" title="Cloud Deployment Framework" />
    <link href="https://example.org/index.xml" rel="feed" type="application/rss+xml" title="Cloud Deployment Framework" />
    

  </head>
  <body class="palette-primary-red palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Cloud Deployment Framework
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/jmenga" title="@jmenga on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/mixja" title="@mixja on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://example.org/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://example.org/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Cloud Deployment Framework <span class="version">v0.1</span></strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a class="current" title="Introduction" href="https://example.org/">
	
	Introduction
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Tutorial" href="https://example.org/tutorial/">
	
	Tutorial
</a>



  
</li>



<li>
  
    



<a  title="Security Resources" href="https://example.org/security-resources/">
	
	Security Resources
</a>



  
</li>



<li>
  
    



<a  title="CloudFormation Resources" href="https://example.org/cloudformation-resources/">
	
	CloudFormation Resources
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://example.org/license/">
	
	License
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/jmenga" target="_blank" title="@jmenga on Twitter">
              @jmenga on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/mixja" target="_blank" title="@mixja on GitHub">
              @mixja on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:justin.menga@gmail.com" title="Email of justin.menga@gmail.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			
				<h1>Cloud Deployment Framework </h1>

				

<p>The Cloud Deployment Framework (hereafter referred to simply as the <strong>framework</strong>) is a methodology and collection of tools that helps organizations:</p>

<ul>
<li>Deploy cloud infrastructure and services in a fully automated fashion</li>
<li>Support configuration management, version control and change control</li>
<li>Create, update and destroy complete environments on-demand</li>
<li>Establish a standard suite of cloud resources and services to enable product and application teams to develop, build and deploy services faster</li>
</ul>

<p>The framework currently supports Amazon Web Services (AWS) although there is no reason why the same principles cannot be applied to other cloud providers.</p>

<h2 id="overview">Overview</h2>

<p>Amazon Web Services (AWS) provides an extensive and sophisticated range to building blocks to help organizations build digital platforms, applications and products in the cloud.</p>

<p>Today AWS provides almost <a href="https://aws.amazon.com/products/">100 products and services</a>, and this list is ever increasing as startups and enterprises alike continue to aggressively adopt the cloud to realize its benefits of speed, flexibility and pay-per-use model.</p>

<p>Making sense of all of these technologies is challenging, yet alone understanding how to automate the deployment of these services, even if you are only consuming a handful of AWS services.</p>

<p>AWS provides a management product called <a href="https://aws.amazon.com/cloudformation/">CloudFormation</a>, which allows you to create, update and destroy related sets of AWS resources using a data-driven <strong><em>infrastructure as code</em></strong> format.  CloudFormation provides you with the building blocks of declaratively defining your AWS infrastructure in a reusable and repeatable manner, but still requires you to provide wrap own orchestration and automation solution, which is where we introduce <a href="https://www.ansible.com">Ansible</a>.</p>

<p><a href="https://www.ansible.com">Ansible</a> is a popular open-source configuration management tool that traditionally has competed with the likes of Puppet, Chef and Salt to perform configuration management of server infrastructure.  Ansible uses a task-oriented workflow that provides sequential processing of a set of tasks, making it well suited for orchestration scenarios where strong control over dependencies and the order of execution is required.</p>

<p>This document describes a methodology and framework for deploying AWS resources based upon the use of AWS CloudFormation and Ansible, which we will refer to throughout this document as the <strong>Cloud Deployment Framework</strong>, or simply the <strong>framework</strong>.</p>

<h2 id="features">Features</h2>

<p>The Cloud Deployment Framework offers the following features:</p>

<ul>
<li><p><strong>Defines complete environments</strong> - basically anything you can describe in a CloudFormation template, whether it be a simple S3 bucket, all of the networking resources in your account, or a complex application platform that includes CloudFront CDN, Route 53 DNS, application load balancer, EC2 autoscaling group, RDS database and EC2 Container Service resources.</p></li>

<li><p><strong>Supports multiple environments</strong> - full support for multiple environments (e.g. dev, test, staging, production) that can be distributed across one or multiple AWS accounts.</p></li>

<li><p><strong>Infrastructure as code</strong> - provides a simple self-contained folder-based structure that allows you to leverage the power of Git for version control and code review, and easily integrates with Continuous Delivery systems such as Jenkins for automated deployments.</p></li>

<li><p><strong>Reusable templates and patterns</strong> - the framework includes a number of reusable templates that adopt best practice patterns for creating your AWS infrastructure.</p></li>

<li><p><strong>Flexible and powerful</strong> - the framework allows you to leverage pre-defined templates, create your own simple static CloudFormation templates or create sophisticated dynamic CloudFormation templates using Ansible&rsquo;s Jinja templating engine.</p></li>
</ul>

<h2 id="architecture">Architecture</h2>

<p>The architecture of the cloud deployment framework is modular and flexible.</p>

<p>At the lowest level, the framework is based upon an Ansible playbook structure that allows you to define global and environment specific settings, and allows you to generate and transform configuration artefacts, such as CloudFormation templates, using the Jinja2 templating framework built into Ansible.</p>

<p>The next level leverages Ansible roles to add packaging and reusabling plugins to the overall architecture.  For example to support AWS deployments, two key Ansible roles can be used:</p>

<ul>
<li><code>aws-sts</code> role - provides assume role functionality, allowing you to assume different roles for different environments.</li>
<li><code>aws-cloudformation</code> role - provides a generic approach to configuring and deploying CloudFormation templates and stacks.</li>
</ul>

<p>THe architecture is such that you can write your own roles that can target different use cases and/or different cloud providers.</p>

<p>At a top level the architecture is very much dependent on the roles you are leveraging.  For example, the <code>aws-cloudformation</code> role allows you to define any generic CloudFormation template you want, but also includes a suite of predefined templates that help bootstrap an AWS account from scratch.</p>

<p>The architectural approach allows users to</p>

<h3 id="ansible">Ansible</h3>

<p>Although Ansible supports an extensive range of modules that can provision many different AWS resources, in the context of the methodology presented we utilise Ansible for three key features:</p>

<ul>
<li><p>Task oriented workflow - Ansible&rsquo;s task-oriented and extensible workflow makes it powerful for orchestrating complex workflows.  Ansible roles allow us to create reusable workflows that we can then combine together to orchestrate a complex set of end-to-end provisioning tasks and outcomes.</p></li>

<li><p>Template generation - Ansible supports powerful template generation capabilities based upon the popular <a href="http://jinja.pocoo.org">Jinja templating engine</a>.  By applying template generation techniques to CloudFormation templates We can use these template generation capabilities to create</p></li>
</ul>

<p>Ansible also supports a powerful templating module based upon the popular <a href="http://jinja.pocoo.org">Jinja templating language</a>, Ansible provides extensive support for AWS services, including CloudFormation, and we can use CloudFormation to define our AWS resources, and then use Ansible to orchestrate</p>

<p>By combining the strengths of Ansible and CloudFormation, you can create a very powerful methodology and framework for creating, updating and destroying your AWS infrastructure.</p>

<p>We now present a framework and methodology that we will refer to simply as the <strong>framework</strong> or <strong>methodology</strong> -</p>

			

			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				



<nav class="pagination" aria-label="Footer">
  <div class="previous">
  </div>

  
  
  <div class="next">
      <a href="https://example.org/tutorial/" title="Tutorial">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Tutorial
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  </div>
</nav>



			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://example.org/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

